<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Build and Install &mdash; MLX Data 0.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Quick Start Guide" href="quick_start.html" />
    <link rel="prev" title="MLX Data" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            MLX Data
          </a>
              <div class="version">
                0.0.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Install</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Build and Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#build-python-bindings-from-source">Build Python bindings from source</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-the-standalone-c-library">Building the standalone C++ library</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quick_start.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="buffers_streams_samples.html">Buffers, Streams and Samples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="python/dataset.html">Common operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="python/buffer.html">Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="python/stream.html">Stream</a></li>
<li class="toctree-l1"><a class="reference internal" href="python/common_datasets.html">Common Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="python/tokenizing.html">Tokenizing with MLX data</a></li>
<li class="toctree-l1"><a class="reference internal" href="python/features.html">Feature extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="python/miscellaneous.html">Miscellaneous</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MLX Data</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Build and Install</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/install.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="build-and-install">
<h1>Build and Install<a class="headerlink" href="#build-and-install" title="Permalink to this headline"></a></h1>
<p>MLX Data consists of a C++ library with shallow python bindings and some Python
helpers. You can choose to build and use only the C++ library or simply pip
install the Python library which transparently builds the required C++ backend.</p>
<p>We plan to provide prebuilt binaries for easy install in the future.</p>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline"></a></h2>
<p>Handling data requires reading various filetypes over various protocols. This
means that MLX Data has a couple of dependencies e.g. for loading images, audio
and videos or fetching files from an S3 bucket.</p>
<p>The following dependencies are optional but without them some functionality of
MLX data will not be built. Below we enumerate the list of dependencies and
subsequently we provide example shell commands to install them using
<code class="docutils literal notranslate"><span class="pre">homebrew</span></code> or on Ubuntu using <code class="docutils literal notranslate"><span class="pre">apt</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">libsndfile</span></code> to load audio files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">libsamplerate</span></code> for audio samplerate conversion.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ffmpeg</span></code> for loading video files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">libjpegturbo</span></code> to load JPG images.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zlib</span></code>, <code class="docutils literal notranslate"><span class="pre">bzip2</span></code> and <code class="docutils literal notranslate"><span class="pre">liblzma</span></code> to process compressed streams.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aws-sdk</span></code> for accessing S3 buckets.</p></li>
</ul>
<p>To install the above on a Mac using homebrew one needs simply to run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>brew<span class="w"> </span>install<span class="w"> </span>libsndfile<span class="w"> </span>libsamplerate<span class="w"> </span>ffmpeg<span class="w"> </span>jpeg-turbo<span class="w"> </span>zlib<span class="w"> </span>bzip2<span class="w"> </span>xz<span class="w"> </span>aws-sdk-cpp
</pre></div>
</div>
<p>For an Ubuntu machine, on the other hand:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>libsndfile1-dev<span class="w"> </span>libsamplerate0-dev<span class="w"> </span>ffmpeg<span class="w"> </span>libjpeg-turbo8-dev<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>zlib1g-dev<span class="w"> </span>libbz2-dev<span class="w"> </span>liblzma-dev

<span class="c1"># We have to build the AWS SDK from source :-(</span>
<span class="c1"># This is *not needed* if installing MLX Data from a prebuilt binary or if</span>
<span class="c1"># you don&#39;t care about fetching from S3</span>

sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>libcurl4-openssl-dev<span class="w"> </span>libssl-dev
git<span class="w"> </span>clone<span class="w"> </span>--depth<span class="w"> </span><span class="m">1</span><span class="w"> </span>--recurse-submodules<span class="w"> </span>https://github.com/aws/aws-sdk-cpp.git
<span class="nb">cd</span><span class="w"> </span>aws-sdk-cpp
mkdir<span class="w"> </span>build
<span class="nb">cd</span><span class="w"> </span>build
cmake<span class="w"> </span>..<span class="w"> </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Release<span class="w"> </span>-DBUILD_ONLY<span class="o">=</span><span class="s2">&quot;s3&quot;</span><span class="w"> </span>-DBUILD_SHARED_LIBS<span class="o">=</span>OFF
make<span class="w"> </span>-j
sudo<span class="w"> </span>make<span class="w"> </span>install
</pre></div>
</div>
<p>Finally before building the python bindings you need to make sure that you
have <code class="docutils literal notranslate"><span class="pre">pybind11</span></code> installed and a relatively modern version of <code class="docutils literal notranslate"><span class="pre">CMake</span></code>. For example,
both be installed with <code class="docutils literal notranslate"><span class="pre">pip</span></code>,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>pybind11<span class="o">[</span>global<span class="o">]</span><span class="w"> </span>cmake
</pre></div>
</div>
</div>
<div class="section" id="build-python-bindings-from-source">
<h2>Build Python bindings from source<a class="headerlink" href="#build-python-bindings-from-source" title="Permalink to this headline"></a></h2>
<p>After installing the dependencies you care about as described above, you can
directly install MLX data using pip.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>/path/to/mlx/data
pip<span class="w"> </span>install<span class="w"> </span>.<span class="w">  </span><span class="c1"># or pip install -e . for an editable install</span>
</pre></div>
</div>
<p>To enable S3 support you also have to use the corresponding CMAKE option when
building MLX data as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">CMAKE_ARGS</span><span class="o">=</span><span class="s2">&quot;-DMLX_ENABLE_AWS=ON&quot;</span><span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>.
</pre></div>
</div>
</div>
<div class="section" id="building-the-standalone-c-library">
<h2>Building the standalone C++ library<a class="headerlink" href="#building-the-standalone-c-library" title="Permalink to this headline"></a></h2>
<p>MLX data can also be installed as a standalone C++ static library that you can
link your projects against.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>build<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>build
cmake<span class="w"> </span>..
make<span class="w"> </span>-j
sudo<span class="w"> </span>make<span class="w"> </span>install
</pre></div>
</div>
<p>Subsequently, you can use CMake’s <code class="docutils literal notranslate"><span class="pre">find_package(MLXData)</span></code> which defines
<code class="docutils literal notranslate"><span class="pre">MLX_DATA_FOUND</span></code>, <code class="docutils literal notranslate"><span class="pre">MLX_DATA_INCLUDE_DIRS</span></code> and <code class="docutils literal notranslate"><span class="pre">MLX_DATA_LIBRARIES</span></code> or
simply link with <code class="docutils literal notranslate"><span class="pre">-lmlxdata</span></code> as it is normally installed in
<code class="docutils literal notranslate"><span class="pre">/usr/local/lib</span></code>.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="MLX Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="quick_start.html" class="btn btn-neutral float-right" title="Quick Start Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, MLX Contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>